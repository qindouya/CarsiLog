#CarsiLog
实现Carsi日志的采集与分析
Carsi访问日志
日志目录：安装目录中的logs子目录
日志文件：只分析其中的访问日志，当前的日志文件名为idp-audit.log，历史日志文件为压缩后的.gz文件
日志格式：

对其中标红的4个字段进行采集并分析：时间、资源、用户ID、源IP
分析平台
基于已有的ELK平台实现Carsi日志的分析
分析结果
基于ELK平台中的Kibana对日志进行分析，主要包括Carsi运行数据统计、状态监测及可能安全事件的分析。
运行数据统计：主要指标包括总访问量、总独立用户数、用户访问统计、资源访问统计、源IP统计等。
运行状态监测：主要是对访问量的时序数据的监测
安全事件分析：主要是用户访问异常监测，避免资源滥用
用户访问数异常：每天内用户访问数异常（>15次/天，>105次/周）
单IP用户数异常：每天单IP上的用户访问数异常（>5/天），排除NAT或代理情况，说明该IP上有多个用户ID访问，存在该IP盗用用户ID的可能
单用户IP数异常：每个用户访问时源IP的个数（>5/天），排除个人移动情况，说明该用户ID在不同位置使用，存在该用户ID泄露被不同人使用的可能。
#组合到一起
将上述分析结果组合成监测大屏，可以定时刷新，实现Carsi运行状态的实时监测。
